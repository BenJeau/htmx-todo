<div
  id="todo-{{ todo.idx }}"
  class="flex shadow-md todo rounded-md{% if todo.done %} opacity-50{% endif %}"
>
  <div
    class="flex flex-wrap gap-2 justify-between items-center bg-black/50 flex-1 rounded-s-lg py-2 px-4 border border-e-0 border-black/50{% if todo.done %} line-through{% endif %}"
  >
    <div class="flex items-center gap-2 flex-wrap">
      <h3 class="text-lg font-semibold"># {{ todo.idx }}</h3>
      <p class="text-sm opacity-75">{{ todo.description }}</p>
    </div>
  </div>
  {% if !todo.done %}
  <button
    hx-delete="/todos/{{todo.idx}}"
    hx-trigger="click"
    hx-target="#todo-{{todo.idx}}"
    hx-swap="delete swap:0.2s"
    class="flex gap-2 items-center text-sm font-semibold focus-visible:outline-red-500 bg-red-700 hover:bg-red-500 text-red-100 hover:text-red-900 px-4 border border-red-900 outline-none transition-colors"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      viewBox="0 0 24 24"
      class="h-4 w-4"
    >
      <path
        d="M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2M10 11v6M14 11v6"
      />
    </svg>
    Delete</button
  >{% endif %}
  <button
    hx-put="/todos/{{todo.idx}}/{% if todo.done %}undone{% else %}done{% endif %}"
    hx-trigger="click"
    hx-target="#todo-{{todo.idx}}"
    hx-swap="outerHTML swap:0.2s"
    class="flex gap-2 items-center text-sm font-semibold rounded-e-lg focus-visible:outline-orange-500 bg-green-700 hover:bg-green-500 hover:text-green-900 text-green-100 px-4 md:px-8 border border-green-900 outline-none transition-colors"
  >
    {% if todo.done %}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      viewBox="0 0 24 24"
      class="h-4 w-4"
    >
      <path d="M9 14 4 9l5-5" />
      <path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11" />
    </svg>
    Undo {% else %}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      viewBox="0 0 24 24"
      class="h-4 w-4"
    >
      <path d="M20 6 9 17l-5-5" />
    </svg>
    Done{% endif %}
  </button>
</div>
